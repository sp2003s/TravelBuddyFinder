<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Requests</title>
    <link rel="icon" type="image/x-icon" href="./images/brand-icon/logo-big.png">
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="./styles/requests.css" rel="stylesheet" />
  </head>

  <body>
    <div>

      <div class="container-fluid" id="welcome">
        <% if (name) { %>
          <p id="wel">Hello <%= name %>!</p>
          <p id="wel1">Here are all the requests related to your journey details.</p>
        <% } else { %>
          <p id="wel">Hello User!</p>
          <p id="wel1">Here are all the requests related to your journey details.</p>
        <% } %>
      </div>
      <div class="container-fluid" style="text-align: center; " id="request">
          <div class="scroll-div">
            <div class="scroll-object">
              <%if(mode=="train") { %>
                <%if(data.length == 0){%>
                  <div class="show-data1">
                    <p>No Request till now..</p>
                    <p>Add your Request using Add button below.</p>
                  </div>
                <%}else{%>
                  <%data.forEach(i => { %>
                    <div class="show-data">
                      <div class="row">
                        <div class="col-md-5">
                          From: <%=i.from%>
                        </div>
                        <div class="col-md-6">
                          To: <%=i.to%>
                        </div>
                        <% if(isLiked[count] == 0){ %>
                          <div class="col-md-1 Bookmark_int">
                            <a href="/savetrain/<%=i._id%>" onclick="Bookmark(this)"><i class="fa-regular fa-bookmark fa-xl"></i></a>
                          </div>
    
                          <div class="col-md-1 Bookmark_fin">
                            <a href="/Unsave/<%=i._id%>" onclick="RemoveBookmark(this)"><i class="fa-solid fa-bookmark fa-xl"></i></a>
                          </div>
                          <%count++%>
                        <%}else{%>
                          <div class="col-md-1 Bookmark_fin">
                            <a href="/savetrain/<%=i._id%>" onclick="Bookmark(this)"><i class="fa-regular fa-bookmark fa-xl"></i></a>
                          </div>
    
                          <div class="col-md-1 Bookmark_int">
                            <a href="/Unsave/<%=i._id%>" onclick="RemoveBookmark(this)"><i class="fa-solid fa-bookmark fa-xl"></i></a>
                          </div>
                          <%count++%>
                        
                        <%}%>
                        
                      </div>
                      <div class="row">
                        <div class="col-md-5">
                          Date: <%=new Date(i.date).toLocaleDateString()%>
                        </div>
                        <div class="col-md-6">
                          Train: <%=i.Trainnumber%>
                        </div>
                        <div class="col-md-1">
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-5">
                          Class: <%=i.class%>
                        </div>
                        <div class="col-md-6">
                          Contact: <%=i.contact_num%>
                        </div>
                        <div class="col-md-1">
                        </div>
                      </div>
                    </div>
                  <%})%>
                <%}%>
                
              <% } else if(mode=="flight") {%>
                <%if(data.length == 0){%>
                  <div class="show-data1">
                    <p>No Request till now..</p>
                    <p>Add your Request using Add button below.</p>
                  </div>
                <%}else{%>
                  <%data.forEach(i => { %>
                    <div class="show-data">
                      <div class="row">
                        <div class="col-md-5">
                          From: <%=i.from%>
                        </div>
                        <div class="col-md-6">
                          To: <%=i.to%>
                        </div>
                        <% if(isLiked[count] == 0){ %>
                          <div class="col-md-1 Bookmark_int">
                            <a href="/saveflight/<%=i._id%>" onclick="Bookmark(this)"><i class="fa-regular fa-bookmark fa-xl"></i></a>
                          </div>
    
                          <div class="col-md-1 Bookmark_fin">
                            <a href="/Unsave/<%=i._id%>" onclick="RemoveBookmark(this)"><i class="fa-solid fa-bookmark fa-xl"></i></a>
                          </div>
                          <%count++%>
                        <%}else{%>
                          <div class="col-md-1 Bookmark_fin">
                            <a href="/saveflight/<%=i._id%>" onclick="Bookmark(this)"><i class="fa-regular fa-bookmark fa-xl"></i></a>
                          </div>
    
                          <div class="col-md-1 Bookmark_int">
                            <a href="/Unsave/<%=i._id%>" onclick="RemoveBookmark(this)"><i class="fa-solid fa-bookmark fa-xl"></i></a>
                          </div>
                          <%count++%>
                        <%}%>

                      </div>
                      <div class="row">
                        <div class="col-md-5">
                          Date: <%=new Date(i.date).toLocaleDateString()%>
                        </div>
                        <div class="col-md-6">
                          Flight: <%=i.Flightnumber%>
                        </div>
                        <div class="col-md-1">
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-5">
                          Class: <%=i.class%>
                        </div>
                        <div class="col-md-6">
                          Contact: <%=i.contact_num%>
                        </div>
                        <div class="col-md-1">
                          
                        </div>
                      </div>
                    </div>
                  <%})%>
                <%}%>
                
              
              <%}else{%>
                <%if(data.length==0){%>
                  <div class="show-data1">
                    <p>No Request till now..</p>
                    <p>Add your Request using Add button below.</p>
                  </div>
                <%}else{%>
                  <%data.forEach(i => { %>
                    <div class="show-data">
                      <div class="row">
                        <div class="col-md-5">
                          From: <%=i.from%>
                        </div>
                        <div class="col-md-6">
                          To: <%=i.to%>
                        </div>
                        <% if(isLiked[count] == 0){ %>
                          <div class="col-md-1 Bookmark_int">
                            <a href="/savecab/<%=i._id%>" onclick="Bookmark(this)"><i class="fa-regular fa-bookmark fa-xl"></i></a>
                          </div>
    
                          <div class="col-md-1 Bookmark_fin">
                            <a href="/Unsave/<%=i._id%>" onclick="RemoveBookmark(this)"><i class="fa-solid fa-bookmark fa-xl"></i></a>
                          </div>
                          <%count++%>
                        <%}else{%>
                          <div class="col-md-1 Bookmark_fin">
                            <a href="/savecab/<%=i._id%>" onclick="Bookmark(this)"><i class="fa-regular fa-bookmark fa-xl"></i></a>
                          </div>
    
                          <div class="col-md-1 Bookmark_int">
                            <a href="/Unsave/<%=i._id%>" onclick="RemoveBookmark(this)"><i class="fa-solid fa-bookmark fa-xl"></i></a>
                          </div>
                          <%count++%>
                        <%}%>
                         
                      </div>
                      <div class="row">
                        <div class="col-md-5">
                          Date: <%=new Date(i.date).toLocaleDateString()%>
                        </div>
                        <div class="col-md-6">
                          time: <%=i.time%>
                        </div>
                        <div class="col-md-1">
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-5">
                          Vacant Space: <%=i.vacantspace%>
                        </div>
                        <div class="col-md-6">
                          Gender Prefrence: <%=i.genderSpecification%>
                        </div>
                        <div class="col-md-1">
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-5">
                          Fare Share: <%=i.fareShare%>
                        </div>
                        <div class="col-md-6">
                          Contact: <%=i.contact_num%>
                        </div>
                        <div class="col-md-1">
                        </div>
                      </div>
                    </div>
                  <%})%>
                <%}%>
                
              <%}%>
            </div>
          </div>
      </div>

      <div class="container-fluid" id="PostnewRequest1"> 
        <div class="postnewRequest2">
          <div class="row">
            <div class="col-md-7" id="postData">
              <p>Could not find a perfect Request?</p>
              <p style="padding-right: 100px;">Post a new Request</p>
            </div>
            <div class="col-md-5">
              <div class="plus">
                <div class="plus1">
                  <%if(mode=="train"){%>
                    <a href="/postRequestTrain" style="color: white;">Add Request</a>
                  <%} else if(mode=="flight") {%>
                    <a href="/postRequestFlight" style="color: white;">Add Request</a>
                  <%}else{%>
                    <a href="/postRequestCab" style="color: white;">Add Request</a>
                  <%}%>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <a href="/backhome" class="options home-link">&#8592; Back to Home</a> <br> <br>
    <script>

      function Bookmark(button) {
          const taskContainer = button.parentElement; 
          
          taskContainer.style.display = "none";
          button.parentElement.nextElementSibling.style.display = "block";
      }

      function RemoveBookmark(button) {
          const taskContainer = button.parentElement; 
          
          taskContainer.style.display = "none";
          button.parentElement.previousElementSibling.style.display = "block";
      }

    </script>
  </body>
</html>

    